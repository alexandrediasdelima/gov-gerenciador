<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:fmt="http://java.sun.com/jsp/jstl/fmt"
	xmlns:components="http://java.sun.com/jsf/composite/components">

	<style>
		.ui-datatable table {
 		   table-layout: auto;
		}
	</style>

	<div style="padding-top: 50px;">

			<br/>
			<p:commandButton icon="ui-icon-plusthick" value="Cadastrar" action="#{apacBean.adicionarBtnNovoApac}" ajax="false" />
			<br/><br/>
			<p:dataTable id="tabelaApacs" value="#{apacBean.apacs}" widgetVar="tabelaApacs"
			emptyMessage="Não foram encontrados registros." filteredValue="#{apacBean.filteredApacs}"
			paginator="true" rows="10" var="apac" paginatorPosition="top" rowsPerPageTemplate="5,10,15,20,25,50,75,100"
			resizableColumns="true" style="width:  99%; border: 0px solid #c0c0c0;">
				<f:facet name="header">APAC</f:facet>
				<p:column headerText="Número do Processo" filterBy="#{apac.numeroProcesso}" filterMatchMode="contains" sortBy="#{apac.numeroProcesso}">
					<h:outputText value="#{apac.numeroProcesso}" id="numeroProcesso" />
				</p:column>
				<p:column headerText="Data de Entrada do Processo na APAC" filterBy="#{apac.dataEntradaProcessoApac}" filterMatchMode="contains" sortBy="#{apac.dataEntradaProcessoApac}">
					<h:outputText value="#{apac.dataEntradaProcessoApac}">
						<f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Sao_Paulo" />
					</h:outputText>
				</p:column>
				<p:column headerText="Data de Entrada do Processo na CPRH" filterBy="#{apac.dataEntradaProcessoCprh}" filterMatchMode="contains" sortBy="#{apac.dataEntradaProcessoCprh}">
					<h:outputText value="#{apac.dataEntradaProcessoCprh}">
						<f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Sao_Paulo" />
					</h:outputText>
				</p:column>
				<p:column headerText="Analista Responsável" filterBy="#{apac.analistaResponsavel}" filterMatchMode="contains" sortBy="#{apac.analistaResponsavel}">
					<h:outputText value="#{apac.analistaResponsavel}" />
				</p:column>
				<p:column headerText="Tipo do Ato Administrativo" filterBy="#{apac.out_tpo_cd}" filterMatchMode="contains" sortBy="#{apac.out_tpo_cd}">
					<h:outputText value="#{apac.out_tpo_cd}" />
				</p:column>
				<p:column headerText="Ato Administrativo/Instrumento de Regularização" filterBy="#{apac.atoAdministrativoPublicacaoInstrumento}" filterMatchMode="contains" sortBy="#{apac.atoAdministrativoPublicacaoInstrumento}">
					<h:outputText value="#{apac.atoAdministrativoPublicacaoInstrumento}" />
				</p:column>
				<p:column headerText="Data de Início do Prazo de Outorga" filterBy="#{apac.dataInicioPrazoOutorga}" filterMatchMode="contains" sortBy="#{apac.dataInicioPrazoOutorga}">
					<h:outputText value="#{apac.dataInicioPrazoOutorga}">
						<f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Sao_Paulo" />
					</h:outputText>
				</p:column>
				<p:column headerText="Data de Término do Prazo de Outorga" filterBy="#{apac.dataTerminoPrazoOutorga}" filterMatchMode="contains" sortBy="#{apac.dataTerminoPrazoOutorga}">
					<h:outputText value="#{apac.dataTerminoPrazoOutorga}">
						<f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Sao_Paulo" />
					</h:outputText>
				</p:column>
				<p:column headerText="Situação Ato Administrativo" filterBy="#{apac.out_tsp_cd}" filterMatchMode="contains" sortBy="#{apac.out_tsp_cd}">
					<h:outputText value="#{apac.out_tsp_cd}" />
				</p:column>
				<p:column headerText="Vazão Outorgada em l/s" filterBy="#{apac.vazaoOutorgada}" filterMatchMode="contains" sortBy="#{apac.vazaoOutorgada}">
					<h:outputText value="#{apac.vazaoOutorgada}" />
				</p:column>
				<p:column headerText="Vazão Outorgada em Média" filterBy="#{apac.vazaoOutorgadaMedia}" filterMatchMode="contains" sortBy="#{apac.vazaoOutorgadaMedia}">
					<h:outputText value="#{apac.vazaoOutorgadaMedia}" />
				</p:column>
				<p:column headerText="Número de Horas para a Captação por Dia" filterBy="#{apac.horasRequeridaParaCaptacaoPorDia}" filterMatchMode="contains" sortBy="#{apac.horasRequeridaParaCaptacaoPorDia}">
					<h:outputText value="#{apac.horasRequeridaParaCaptacaoPorDia}" />
				</p:column>
				<p:column headerText="Vazão Requerida l/s" filterBy="#{apac.vazaoRequiridaLs}" filterMatchMode="contains" sortBy="#{apac.vazaoRequiridaLs}">
					<h:outputText value="#{apac.vazaoRequiridaLs}" />
				</p:column>
				<p:column headerText="Vazão Requerida Média Diária (m³/dia)" filterBy="#{apac.vazaoRequiridaMediaDia}" filterMatchMode="contains" sortBy="#{apac.vazaoRequiridaMediaDia}">
					<h:outputText value="#{apac.vazaoRequiridaMediaDia}" />
				</p:column>
					<p:column headerText="Garantia" filterBy="#{apac.garantia}" filterMatchMode="contains" sortBy="#{apac.garantia}">
					<h:outputText value="#{apac.garantia}" />
				</p:column>
				<p:column headerText="Data de Vistoria da APAC" filterBy="#{apac.dataVistoria}" filterMatchMode="contains" sortBy="#{apac.dataVistoria}">
					<h:outputText value="#{apac.dataVistoria}">
						<f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Sao_Paulo" />
					</h:outputText>
				</p:column>
				<p:column headerText="Data de Vencimento do Contrato" filterBy="#{apac.dataVencimentoContrato}" filterMatchMode="contains" sortBy="#{apac.dataVencimentoContrato}">
					<h:outputText value="#{apac.dataVencimentoContrato}">
						<f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Sao_Paulo" />
					</h:outputText>
				</p:column>
				<p:column headerText="Número da Notificação de Irregularidades" filterBy="#{apac.numeroNotificacaoIrregularidadeApac}" filterMatchMode="contains" sortBy="#{apac.numeroNotificacaoIrregularidadeApac}">
					<h:outputText value="#{apac.numeroNotificacaoIrregularidadeApac}" />
				</p:column>
				<p:column headerText="Encerramento do Prazo da Notificação" filterBy="#{apac.prazoNotificacao}" filterMatchMode="contains" sortBy="#{apac.prazoNotificacao}">
					<h:outputText value="#{apac.prazoNotificacao}">
						<f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Sao_Paulo" />
					</h:outputText>
				</p:column>
				<p:column headerText="Tipo de Obra" filterBy="#{apac.tipoObra}" filterMatchMode="contains" sortBy="#{apac.tipoObra}">
					<h:outputText value="#{apac.tipoObra}" />
				</p:column>
				<p:column headerText="Nome da Obra" filterBy="#{apac.nomeObra}" filterMatchMode="contains" sortBy="#{apac.nomeObra}">
					<h:outputText value="#{apac.nomeObra}" />
				</p:column>
				<p:column headerText="Outorga Válida Janeiro" filterBy="#{apac.outorgaValidaJaneiro}" filterMatchMode="contains" sortBy="#{apac.outorgaValidaJaneiro}">
					<h:panelGroup rendered="#{apac.outorgaValidaJaneiro}" ><h:panelGroup rendered="SIM" /></h:panelGroup>
					<h:panelGroup rendered="#{!apac.outorgaValidaJaneiro}" ><h:panelGroup rendered="NÃO" /></h:panelGroup>
				</p:column>
				<p:column headerText="Outorga Válida Fevereiro" filterBy="#{apac.outorgaValidaFevereiro}" filterMatchMode="contains" sortBy="#{apac.outorgaValidaFevereiro}">
					<h:panelGroup rendered="#{apac.outorgaValidaFevereiro}" ><h:panelGroup rendered="SIM" /></h:panelGroup>
					<h:panelGroup rendered="#{!apac.outorgaValidaFevereiro}" ><h:panelGroup rendered="NÃO" /></h:panelGroup>
				</p:column>
				<p:column headerText="Outorga Válida Março" filterBy="#{apac.outorgaValidaMarco}" filterMatchMode="contains" sortBy="#{apac.outorgaValidaMarco}">
					<h:panelGroup rendered="#{apac.outorgaValidaMarco}" ><h:panelGroup rendered="SIM" /></h:panelGroup>
					<h:panelGroup rendered="#{!apac.outorgaValidaMarco}" ><h:panelGroup rendered="NÃO" /></h:panelGroup>
				</p:column>
				<p:column headerText="Outorga Válida Abril" filterBy="#{apac.outorgaValidaAbril}" filterMatchMode="contains" sortBy="#{apac.outorgaValidaAbril}">
					<h:panelGroup rendered="#{apac.outorgaValidaAbril}" ><h:panelGroup rendered="SIM" /></h:panelGroup>
					<h:panelGroup rendered="#{!apac.outorgaValidaAbril}" ><h:panelGroup rendered="NÃO" /></h:panelGroup>
				</p:column>
				<p:column headerText="Outorga Válida Maio" filterBy="#{apac.outorgaValidaMaio}" filterMatchMode="contains" sortBy="#{apac.outorgaValidaMaio}">
					<h:panelGroup rendered="#{apac.outorgaValidaMaio}" ><h:panelGroup rendered="SIM" /></h:panelGroup>
					<h:panelGroup rendered="#{!apac.outorgaValidaMaio}" ><h:panelGroup rendered="NÃO" /></h:panelGroup>
				</p:column>
				<p:column headerText="Outorga Válida Junho" filterBy="#{apac.outorgaValidaJunho}" filterMatchMode="contains" sortBy="#{apac.outorgaValidaJunho}">
					<h:panelGroup rendered="#{apac.outorgaValidaJunho}" ><h:panelGroup rendered="SIM" /></h:panelGroup>
					<h:panelGroup rendered="#{!apac.outorgaValidaJunho}" ><h:panelGroup rendered="NÃO" /></h:panelGroup>
				</p:column>
				<p:column headerText="Outorga Válida Julho" filterBy="#{apac.outorgaValidaJulho}" filterMatchMode="contains" sortBy="#{apac.outorgaValidaJulho}">
					<h:panelGroup rendered="#{apac.outorgaValidaJulho}" ><h:panelGroup rendered="SIM" /></h:panelGroup>
					<h:panelGroup rendered="#{!apac.outorgaValidaJulho}" ><h:panelGroup rendered="NÃO" /></h:panelGroup>
				</p:column>
				<p:column headerText="Outorga Válida Agosto" filterBy="#{apac.outorgaValidaAgosto}" filterMatchMode="contains" sortBy="#{apac.outorgaValidaAgosto}">
					<h:panelGroup rendered="#{apac.outorgaValidaAgosto}" ><h:panelGroup rendered="SIM" /></h:panelGroup>
					<h:panelGroup rendered="#{!apac.outorgaValidaAgosto}" ><h:panelGroup rendered="NÃO" /></h:panelGroup>
				</p:column>
				<p:column headerText="Outorga Válida Setembro" filterBy="#{apac.outorgaValidaSetembro}" filterMatchMode="contains" sortBy="#{apac.outorgaValidaSetembro}">
					<h:panelGroup rendered="#{apac.outorgaValidaSetembro}" ><h:panelGroup rendered="SIM" /></h:panelGroup>
					<h:panelGroup rendered="#{!apac.outorgaValidaSetembro}" ><h:panelGroup rendered="NÃO" /></h:panelGroup>
				</p:column>
				<p:column headerText="Outorga Válida Outubro" filterBy="#{apac.outorgaValidaOutubro}" filterMatchMode="contains" sortBy="#{apac.outorgaValidaOutubro}">
					<h:panelGroup rendered="#{apac.outorgaValidaOutubro}" ><h:panelGroup rendered="SIM" /></h:panelGroup>
					<h:panelGroup rendered="#{!apac.outorgaValidaOutubro}" ><h:panelGroup rendered="NÃO" /></h:panelGroup>
				</p:column>
				<p:column headerText="Outorga Válida Novembro" filterBy="#{apac.outorgaValidaNovembro}" filterMatchMode="contains" sortBy="#{apac.outorgaValidaNovembro}">
					<h:panelGroup rendered="#{apac.outorgaValidaNovembro}" ><h:panelGroup rendered="SIM" /></h:panelGroup>
					<h:panelGroup rendered="#{!apac.outorgaValidaNovembro}" ><h:panelGroup rendered="NÃO" /></h:panelGroup>
				</p:column>
				<p:column headerText="Outorga Válida Dezembro" filterBy="#{apac.outorgaValidaDezembro}" filterMatchMode="contains" sortBy="#{apac.outorgaValidaDezembro}">
					<h:panelGroup rendered="#{apac.outorgaValidaDezembro}" ><h:panelGroup rendered="SIM" /></h:panelGroup>
					<h:panelGroup rendered="#{!apac.outorgaValidaDezembro}" ><h:panelGroup rendered="NÃO" /></h:panelGroup>
				</p:column>
				<p:column headerText="Ações">
					<p:commandButton action="#{apacBean.telaEditar(apac)}" value="Editar" ajax="false" icon="ui-icon-document" />
					<p:commandButton id="confirm" value="Apagar" oncomplete="PF('confirmation').show();" icon="ui-icon ui-icon-trash">
						<f:setPropertyActionListener target="#{apacBean.objSelecionado}" value="#{apac}" />
					</p:commandButton>
				</p:column>
			</p:dataTable>

			<p:confirmDialog id="excluirApac" message="Confirma a exclusão?"  width="350" header="APAC" widgetVar="confirmation" modal="true">
				<p:commandButton action="#{apacBean.deletar}" value="Sim" update="@form" oncomplete="PF('confirmation').hide();" icon="ui-icon ui-icon-check" />
				<p:commandButton value="Não" image="ui-icon-close" onclick="PF('confirmation').hide();" type="button" style="left: 35%;"/>
			</p:confirmDialog>

			<p:blockUI block="tabelaApacs" trigger="tabelaApacs">
				<p:graphicImage name="images/loadingbar.gif"/>
			</p:blockUI>
	</div>
</ui:composition>