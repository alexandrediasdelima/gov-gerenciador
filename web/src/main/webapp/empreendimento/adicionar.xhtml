<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:fmt="http://java.sun.com/jsp/jstl/fmt"
	xmlns:components="http://java.sun.com/jsf/composite/components">

	<style type="text/css">
		.ui-state-hover { background: none !important; background-image: none !important; }
	</style>

	<div style="margin-top: 0px; position: absolute; border: 0px solid; width: 99%;">
		<h:form id="addEmpreendimento" prependId="false" style="width:99%;" acceptcharset="ISO-8859-1">
		<br/><br/><br/>
		<p:fieldset legend="Empreendimento">
			<p:scrollPanel mode="native" style="width:100%; height:80%; border: 0px solid; ">
				<h:panelGrid columns="4" style="border: 0px solid;">
					<p:outputLabel value="ID-Usuário:" />
					<c:choose>
						<c:when test="#{empreendimentoBean.view == 'edit'}">
							<p:inputText id="idUsuario" value="#{empreendimentoBean.empreendimento.idUsuario}" disabled="true" />
						</c:when>
						<c:otherwise>
							<p:selectOneMenu id="idUsuario" value="#{empreendimentoBean.empreendimento.idUsuario}" style="width:230px">
								<f:selectItems value="#{empreendimentoBean.usuarios}" var="usuario" itemValue="#{usuario[0]}" itemLabel="#{usuario[1]}" />
							</p:selectOneMenu>
						</c:otherwise>
					</c:choose>
					
					<p:outputLabel value="Nome do Empreendimento:" for="nomeEmpreendimento" />
					<p:inputText id="nomeEmpreendimento" value="#{empreendimentoBean.empreendimento.nomeEmpreendimento}" />
					
					<p:outputLabel value="Área Total(m2):" for="areaTotal" />
					<p:inputText id="areaTotal" value="#{empreendimentoBean.empreendimento.areaTotalPropriedade}"  />

					<p:outputLabel value="Unidade:" for="unidade" />
					<p:inputText  id="unidade" value="#{empreendimentoBean.empreendimento.unidadeAreaTotalPropriedade}"  />

					<p:outputLabel value="Tipo de Logradouro:" for="tipoLogradouro" />
					<p:selectOneMenu id="tipoLogradouro" value="#{empreendimentoBean.empreendimento.tipoLogradouroEmpreendimento}" style="width:230px">
						<f:selectItem itemLabel="Selecione" itemValue="" />
						<f:selectItem itemLabel="AVENIDA" itemValue="AVENIDA" />
						<f:selectItem itemLabel="ALAMEDA" itemValue="ALAMEDA" />
						<f:selectItem itemLabel="CHÁCARA" itemValue="CHÁCARA" />
						<f:selectItem itemLabel="ESTRADA" itemValue="ESTRADA" />
						<f:selectItem itemLabel="FAZENDA" itemValue="FAZENDA" />
						<f:selectItem itemLabel="GRANJA" itemValue="GRANJA" />
						<f:selectItem itemLabel="PRAÇA" itemValue="PRAÇA" />
						<f:selectItem itemLabel="RODOVIA" itemValue="RODOVIA" />
						<f:selectItem itemLabel="RUA" itemValue="RUA" />
						<f:selectItem itemLabel="SÍTIO" itemValue="SÍTIO" />
						<f:selectItem itemLabel="TRAVESSA" itemValue="TRAVESSA" />
						<f:selectItem itemLabel="OUTRO" itemValue="OUTRO" />
					</p:selectOneMenu>
					
					<p:outputLabel value="Endereço:" for="endEmpreendimento" />
					<p:inputText id="endEmpreendimento" value="#{empreendimentoBean.empreendimento.enderecoEmpreendimento}" />

					<p:outputLabel value="Nome do Logradouro:" for="nomeLogradouro" />
					<p:inputText id="nomeLogradouro" value="#{empreendimentoBean.empreendimento.nomeLogradouroEmpreendimento}"  />

					<p:outputLabel value="Número:" for="numeroEmpreendimento" />
					<p:inputText id="numeroEmpreendimento" value="#{empreendimentoBean.empreendimento.numeroLogradouroEmpreendimento}" />

					<p:outputLabel value="Complemento:" for="complemento" />
					<p:inputText id="complemento" value="#{empreendimentoBean.empreendimento.complementoLogradouroEmpreendimento}" />

					<p:outputLabel value="Acesso Principal:" for="nomePrincipalEmpreendimento" />
					<p:inputText id="nomePrincipalEmpreendimento" value="#{empreendimentoBean.empreendimento.nomeAcessoPrincipalEmpreendimento}" />

					<p:outputLabel value="Local:" for="localEmpreendimento" />
					<p:inputText id="localEmpreendimento" value="#{empreendimentoBean.empreendimento.localEmpreendimento}" />

					<p:outputLabel value="Caixa Postal:" for="caixaPostalEmpreendimento" />
					<p:inputText id="caixaPostalEmpreendimento" value="#{empreendimentoBean.empreendimento.numeroCaixaPostalEmpreendimento}" />

					<p:outputLabel value="CEP:" for="cep" />
					<p:inputText id="cep" value="#{empreendimentoBean.empreendimento.cepEmpreendimento}" />

					<p:outputLabel value="Município:" for="municipio" />
					<p:selectOneMenu id="municipio" value="#{empreendimentoBean.empreendimento.nomeMunicipioEmpreendimento}" style="width:230px !important" >
	                    <f:selectItem itemLabel="Selecione" itemValue="" />
	                    <f:selectItems value="#{empreendimentoBean.regioes}"
	                                   var="regiao"
	                                   itemLabel="#{regiao.municipio}"
	                                   itemValue="#{regiao.municipio}" />
                        <p:ajax listener="#{empreendimentoBean.atualizarIbge}" event="change" update="codigo" />
                     </p:selectOneMenu>

					<p:outputLabel value="Código IBGE:" for="codigo" />
					<p:inputText id="codigo" value="#{empreendimentoBean.empreendimento.ibgeMunicipioLocalizadaInterferencia}" disabled="true" />

					<p:outputLabel value="Número da Outorga:" for="outorga" />
					<p:inputText id="outorga" value="#{empreendimentoBean.empreendimento.numeroOutorga}" />
				</h:panelGrid>
				
				<p:commandButton value="Voltar" action="#{empreendimentoBean.voltar}" ajax="false" icon="ui-icon-arrowreturnthick-1-w" />
				<p:commandButton value="Salvar" action="#{empreendimentoBean.gravar}" ajax="false" rendered="#{empreendimentoBean.view == 'add'}"  icon="ui-icon-disk" />
				<p:commandButton value="Salvar" action="#{empreendimentoBean.editar}" ajax="false" rendered="#{empreendimentoBean.view == 'edit'}"  icon="ui-icon-pencil" />

			</p:scrollPanel>
		</p:fieldset>
		</h:form>
	</div>
		<h:outputScript library="js" name="jquery.inputmask.bundle.js" />
	<script>
		$(function() {
			$("#numeroEmpreendimento").inputmask({alias: "numeric", mask: "[9][9][9][9][9][9]", greedy: true })
			$("#cep").inputmask({mask: "99999-999", greedy: true, removeMaskOnSubmit: true })
			$("#caixaPostalEmpreendimento").inputmask({alias: "numeric", mask: "[9][9][9][9][9][9]", greedy: true })
			
			$("#areaTotal").inputmask({mask: "9[9][9][9][9][9][9].9[9][9][9][9][9][9][9][9][9][9][9][9][9][9][9][9][9]", greedy: false, clearMaskOnLostFocus: true })
			
		})
	</script>
</ui:composition>