<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:fmt="http://java.sun.com/jsp/jstl/fmt"
	xmlns:components="http://java.sun.com/jsf/composite/components">

	<style type="text/css">
		.ui-state-hover { background: none !important; background-image: none !important; }
	</style>

	<div style="margin-top: 0px; position: absolute; border: 0px solid; width: 99%;">
		<h:form id="addEmpreendimento" prependId="false" style="width:99%;" acceptcharset="ISO-8859-1">
		<br/><br/><br/>
			<p:fieldset legend="Empreendimento">
			<p:scrollPanel mode="native" style="width:100%; height:80%; border: 0px solid; ">
				<h:panelGrid columns="4" style="border: 0px solid;">
					<p:outputLabel value="ID-Usuário:" />
					<c:choose>
						<c:when test="#{empreendimentoBean.view == 'edit'}">
							<p:inputText id="idUsuario" value="#{empreendimentoBean.empreendimento.idUsuario}" disabled="true" />
						</c:when>
						<c:otherwise>
							<p:selectOneMenu id="idUsuario" value="#{empreendimentoBean.empreendimento.idUsuario}" required="true" style="width:230px">
								<f:selectItems value="#{empreendimentoBean.usuarios}" var="usuario" itemValue="#{usuario[0]}" itemLabel="#{usuario[1]}" />
							</p:selectOneMenu>
						</c:otherwise>
					</c:choose>

					<p:outputLabel value="Nome do Empreendimento:" for="nomeEmpreendimento" id="nmEmpreendimento"/>
					<p:inputText id="nomeEmpreendimento" value="#{empreendimentoBean.empreendimento.nomeEmpreendimento}" required="true" />

					<p:outputLabel value="Área Total(Hectare):" for="areaTotal" id="total" />
					<p:inputText id="areaTotal" value="#{empreendimentoBean.empreendimento.areaTotalPropriedade}" required="true" />

					<p:outputLabel value="Tipo de Logradouro:" for="tipoLogradouro" id="tpLogradouro" />
					<p:selectOneMenu id="tipoLogradouro" value="#{empreendimentoBean.empreendimento.tipoLogradouroEmpreendimento}" required="true" style="width:230px">
						<f:selectItem itemLabel="Selecione" itemValue="" />
						<f:selectItem itemLabel="ASSENTAMENTO" itemValue="ASSENTAMENTO" />
						<f:selectItem itemLabel="AVENIDA" itemValue="AVENIDA" />
						<f:selectItem itemLabel="ALAMEDA" itemValue="ALAMEDA" />
						<f:selectItem itemLabel="CHÁCARA" itemValue="CHÁCARA" />
						<f:selectItem itemLabel="CONDOMÍNIO" itemValue="CONDOMÍNIO" />
						<f:selectItem itemLabel="ENGENHO" itemValue="ENGENHO" />
						<f:selectItem itemLabel="ESTRADA" itemValue="ESTRADA" />
						<f:selectItem itemLabel="FAZENDA" itemValue="FAZENDA" />
						<f:selectItem itemLabel="GRANJA" itemValue="GRANJA" />
						<f:selectItem itemLabel="PRAÇA" itemValue="PRAÇA" />
						<f:selectItem itemLabel="RODOVIA" itemValue="RODOVIA" />
						<f:selectItem itemLabel="RUA" itemValue="RUA" />
						<f:selectItem itemLabel="SÍTIO" itemValue="SÍTIO" />
						<f:selectItem itemLabel="TRAVESSA" itemValue="TRAVESSA" />
						<f:selectItem itemLabel="VILA" itemValue="VILA" />
						<f:selectItem itemLabel="OUTRO" itemValue="OUTRO" />
					</p:selectOneMenu>

					<p:outputLabel value="Endereço:" for="endEmpreendimento" id="enderecoEmpreendimento" />
					<p:inputText id="endEmpreendimento" value="#{empreendimentoBean.empreendimento.enderecoEmpreendimento}" required="true" />

					<p:outputLabel value="Nome do Logradouro:" for="nomeLogradouro" id="nmLogradouro" />
					<p:inputText id="nomeLogradouro" value="#{empreendimentoBean.empreendimento.nomeLogradouroEmpreendimento}" required="true" />

					<p:outputLabel value="Número:" for="numeroEmpreendimento" id="numero" />
					<p:inputText id="numeroEmpreendimento" value="#{empreendimentoBean.empreendimento.numeroLogradouroEmpreendimento}" required="true" />

					<p:outputLabel value="Complemento:" for="complemento" id="comple" />
					<p:inputText id="complemento" value="#{empreendimentoBean.empreendimento.complementoLogradouroEmpreendimento}" required="true" />

					<p:outputLabel value="Acesso Principal:" for="nomePrincipalEmpreendimento" id="acesso" />
					<p:inputText id="nomePrincipalEmpreendimento" value="#{empreendimentoBean.empreendimento.nomeAcessoPrincipalEmpreendimento}" required="true" />

					<p:outputLabel value="Local:" for="localEmpreendimento" id="local" />
					<p:inputText id="localEmpreendimento" value="#{empreendimentoBean.empreendimento.localEmpreendimento}" required="true" />

					<p:outputLabel value="Caixa Postal:" for="caixaPostalEmpreendimento" id="cxPostal"/>
					<p:inputText id="caixaPostalEmpreendimento" value="#{empreendimentoBean.empreendimento.numeroCaixaPostalEmpreendimento}" />

					<p:outputLabel value="CEP:" for="cep" id="cp" />
					<p:inputText id="cep" value="#{empreendimentoBean.empreendimento.cepEmpreendimento}" required="true" validator="cepValidator" />

					<p:outputLabel value="Município:" for="municipio" id="muni" />
					<p:selectOneMenu id="municipio" value="#{empreendimentoBean.empreendimento.nomeMunicipioEmpreendimento}" required="true" style="width:230px !important" >
	                    <f:selectItem itemLabel="Selecione" itemValue="" />
	                    <f:selectItems value="#{empreendimentoBean.regioes}"
	                                   var="regiao"
	                                   itemLabel="#{regiao.municipio}"
	                                   itemValue="#{regiao.municipio}" />
                        <p:ajax listener="#{empreendimentoBean.atualizarIbge}" event="change" update="codigo" />
                     </p:selectOneMenu>

					<p:outputLabel value="Código IBGE:" for="codigo" id="cdIbge" />
					<p:inputText id="codigo" value="#{empreendimentoBean.empreendimento.ibgeMunicipioLocalizadaInterferencia}" required="true" disabled="true" />

					<p:outputLabel value="Número da Outorga:" for="outorga" id="nomeOu" />
					<p:inputText id="outorga" value="#{empreendimentoBean.empreendimento.numeroOutorga}" required="true" />

				</h:panelGrid>

				<p:commandButton value="Voltar" action="#{empreendimentoBean.voltar}" ajax="false" icon="ui-icon-arrowreturnthick-1-w" immediate="true" />
				<p:commandButton value="Salvar" action="#{empreendimentoBean.gravar}" ajax="false" rendered="#{empreendimentoBean.view == 'add'}"  icon="ui-icon-disk" />
				<p:commandButton value="Salvar" action="#{empreendimentoBean.editar}" ajax="false" rendered="#{empreendimentoBean.view == 'edit'}"  icon="ui-icon-pencil" />

			</p:scrollPanel>
		</p:fieldset>

		<p:tooltip for="nmEmpreendimento" value="Campo descritivo que representa o nome do empreendimento." position="top"/>
		<p:tooltip for="total" value="Campo numérico que representa a área total da propriedade." position="top"/>
		<p:tooltip for="tpLogradouro" value="Campo descritivo que representa o tipo de logradouro do empreendimento." position="top"/>
		<p:tooltip for="enderecoEmpreendimento" value="Campo descritivo que representa se o endereço do empreendimento é o mesmo que o da correspondência." position="top"/>
		<p:tooltip for="nmLogradouro" value="Campo descritivo que representa se o endereço do empreendimento é o mesmo que o da correspondência." position="top"/>
		<p:tooltip for="numero" value="Campo numérico que representa o número do endereço do empreendimento." position="top"/>
		<p:tooltip for="comple" value="Campo descritivo que representa o complemento do endereço do empreendimento." position="top"/>
		<p:tooltip for="acesso" value="Campo descritivo que representa o nome do acesso principal ao empreendimento." position="top"/>
		<p:tooltip for="local" value="Campo descritivo que representa o local do empreeendimento." position="top"/>
		<p:tooltip for="cxPostal" value="Campo numérico que representa o número da caixa postal do empreendimento." position="top"/>
		<p:tooltip for="cp" value="Campo numérico que representa o número do cep do empreendimento." position="top"/>
		<p:tooltip for="muni" value="Campo que representa o nome do município onde se localiza o empreendimento." position="top"/>
		<p:tooltip for="cdIbge" value="Campo que representa o código ibge do município onde está localizada a interferência." position="top"/>
		<p:tooltip for="nomeOu" value="Campo numérico que representa o número da outorga" position="top"/>

		</h:form>
	</div>
		<h:outputScript library="js" name="jquery.inputmask.bundle.js" />
	<script>
		$(function() {
			$("#numeroEmpreendimento").inputmask({alias: "numeric", mask: "[9][9][9][9][9][9]", greedy: true })
			$("#cep").inputmask({mask: "99999-999", greedy: true, removeMaskOnSubmit: true })
			$("#caixaPostalEmpreendimento").inputmask({alias: "numeric", mask: "[9][9][9][9][9][9]", greedy: true })

			$("#areaTotal").inputmask({mask: "9[9][9][9][9][9][9].[9][9]", greedy: false, clearMaskOnLostFocus: true })

		})
	</script>
</ui:composition>